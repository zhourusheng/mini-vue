---
description: Vue模板编译器的开发规范和最佳实践
globs: 
alwaysApply: false
---
# 模板编译器开发规范

## 编译阶段
- 严格遵循解析(parse)、转换(transform)、生成(generate)三个阶段
- 每个阶段的输入输出类型必须明确定义
- 各阶段之间通过清晰的数据结构进行通信

## 错误处理
- 对模板语法错误提供友好的错误提示
- 尽可能提供详细的错误位置信息
- 支持多语言错误信息

## 优化策略
- 实现静态节点提升优化
- 支持静态属性提升
- 优化事件处理函数缓存
- 对v-for和v-if进行智能优化

## 兼容性
- 生成的渲染函数应与runtime-core完全兼容
- 支持Vue指令的标准语法
- 提供与Vue3模板编译器兼容的API 