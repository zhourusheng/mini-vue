---
description: Vue响应式系统的开发规范和最佳实践
globs: 
alwaysApply: false
---
# 响应式系统开发规范

## 核心原则
- 保持响应式系统的纯洁性，不引入DOM或运行时依赖
- 响应式系统是整个框架的基础，需要保证高性能和稳定性
- 所有API设计需要保持与Vue3的响应式系统兼容

## 依赖收集
- 确保依赖收集和触发的正确性
- 避免循环依赖和无限递归问题
- 最小化副作用函数的执行次数

## 性能优化
- 使用WeakMap/WeakSet避免内存泄漏
- 优化嵌套对象的响应式处理
- 减少不必要的深层代理对象创建

## 调试支持
- 提供开发环境下的调试信息
- 为复杂操作添加详细注释
- 实现依赖追踪功能以方便调试 